<ng-container>
    <section>
        <h1>Property Binding</h1>
        <mat-accordion>
          <ng-container *ngTemplateOutlet="avoidSideEffectsTemplate"></ng-container>
          <ng-container *ngTemplateOutlet="returnProperTypeTemplate"></ng-container>
        </mat-accordion>
    </section>
</ng-container>

<ng-template #avoidSideEffectsTemplate>
    <mat-expansion-panel>
        <mat-expansion-panel-header>
          <mat-panel-title>
            Avoid side effects
          </mat-panel-title>
        </mat-expansion-panel-header>

        <ng-container #avoidSideEffectsContent>
            <ng-container #description>
                <p>Evaluation of a template expression should have no visible side effects. Use the syntax for template expressions to help avoid side effects. In general, the correct syntax prevents you from assigning a value to anything in a property binding expression. The syntax also prevents you from using increment and decrement operators.</p>

                <h3>An example of producing side effects</h3>
                <p>If you had an expression that changed the value of something else that you were binding to, that change of value would be a side effect. Angular might or might not display the changed value. If Angular does detect the change, it throws an error.</p>
                <p>As a best practice, use only properties and methods that return values.</p>
            </ng-container>
        </ng-container>
    </mat-expansion-panel>
</ng-template>

<ng-template #returnProperTypeTemplate>
    <mat-expansion-panel>
        <mat-expansion-panel-header>
          <mat-panel-title>
            Return the proper type
          </mat-panel-title>
        </mat-expansion-panel-header>

        <ng-container #returnProperTypeContent>
            <ng-container #description>
                <p>A template expression should evaluate to the type of value that the target property expects. For example, return a string if the target property expects a string, a number if it expects a number, or an object if it expects an object.</p>
            </ng-container>

            <ng-container #content1>
                <mat-accordion>
                  <mat-expansion-panel>
                      <mat-expansion-panel-header>
                          <mat-panel-title>
                            Passing in a string
                          </mat-panel-title>
                      </mat-expansion-panel-header>
      
                      <ng-container #content1Content>
                          <ng-container #description_1>
                              <p>In the following example, the childItem property of the ItemDetailComponent expects a string.</p>
                              <code-example code="
                              < app-item-detail [childItem]='parentItem'></app-item-detail>
                              "></code-example>

                              <p>Confirm this expectation by looking in the ItemDetailComponent where the @Input() type is string:</p>

                              <code-example code="
                              @Input() childItem = '';
                              "></code-example>

                              <p>The parentItem in AppComponent is a string, which means that the expression, parentItem within [childItem]="parentItem", evaluates to a string.</p>

                              <code-example code="
                              parentItem = 'lamp';
                              "></code-example>

                              <p>If parentItem were some other type, you would need to specify childItem @Input() as that type as well.</p>
                          </ng-container>
                    </ng-container>
                  </mat-expansion-panel>
                </mat-accordion>
            </ng-container>

            <ng-container #content2>
                <mat-accordion>
                  <mat-expansion-panel>
                      <mat-expansion-panel-header>
                          <mat-panel-title>
                            Passing in an object
                          </mat-panel-title>
                      </mat-expansion-panel-header>
      
                      <ng-container #content2Content>
                          <ng-container #description_2>
                              <p>In this example, ItemListComponent is a child component of AppComponent and the items property expects an array of objects.</p>
                              <code-example code="
                              <app-item-list [items]='currentItems'></app-item-list>
                              "></code-example>

                              <p>In the ItemListComponent the @Input(), items, has a type of Item[].</p>

                              <code-example code="
                              @Input() items: Item[] = [];
                              "></code-example>

                              <p>Notice that Item is an object that it has two properties; an id and a name.</p>

                              <code-example code="
                              export interface Item {
                                id: number;
                                name: string;
                              }
                              "></code-example>

                              <p>In app.component.ts, currentItems is an array of objects in the same shape as the Item object in items.ts, with an id and a name.</p>
                              <code-example code="
                              currentItems = [{
                                id: 21,
                                name: 'phone'
                              }];
                              "></code-example>

                              <p>By supplying an object in the same shape, you satisfy the expectations of items when Angular evaluates the expression currentItems.</p>
                          </ng-container>
                    </ng-container>
                  </mat-expansion-panel>
                </mat-accordion>
            </ng-container>
        </ng-container>
    </mat-expansion-panel>
</ng-template>