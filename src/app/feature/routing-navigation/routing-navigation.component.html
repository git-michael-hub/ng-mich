<ng-container>
    <section>
        <h1>Routing</h1>
        <mat-accordion>
          <ng-container *ngTemplateOutlet="overviewTemplate"></ng-container>
          <ng-container *ngTemplateOutlet="commonRoutingTemplate"></ng-container>
          <ng-container *ngTemplateOutlet="singlePageTemplate"></ng-container>
          <ng-container *ngTemplateOutlet="customRouteTemplate"></ng-container>
          <ng-container *ngTemplateOutlet="routerReferenceTemplate"></ng-container>
        </mat-accordion>
    </section>
</ng-container>

<ng-template #overviewTemplate>
    <mat-expansion-panel>
        <mat-expansion-panel-header>
          <mat-panel-title>
            Overview
          </mat-panel-title>
        </mat-expansion-panel-header>

        <ng-container #overviewContent>
            <ng-container #description>
                <p>In a single-page app, you change what the user sees by showing or hiding portions of the display that correspond to particular components, rather than going out to the server to get a new page. As users perform application tasks, they need to move between the different views that you have defined.</p>
                <p>To handle the navigation from one view to the next, you use the Angular Router. The Router enables navigation by interpreting a browser URL as an instruction to change the view.</p>
            </ng-container>
        </ng-container>
    </mat-expansion-panel>
</ng-template>

<ng-template #commonRoutingTemplate>
    <mat-expansion-panel>
        <mat-expansion-panel-header>
          <mat-panel-title>
            Common Routing Tasks
          </mat-panel-title>
        </mat-expansion-panel-header>

        <ng-container #commonRoutingContent>
            <ng-container #description></ng-container>

            <ng-container #content1>
                <mat-accordion>
                  <mat-expansion-panel>
                      <mat-expansion-panel-header>
                          <mat-panel-title>
                            Generate an application with routing enabled
                          </mat-panel-title>
                      </mat-expansion-panel-header>
      
                      <ng-container #content1Content>
                          <ng-container #description_1>
                            <p>The following command uses the Angular CLI to generate a basic Angular application with an application routing module, called AppRoutingModule, which is an NgModule where you can configure your routes. The application name in the following example is routing-app.</p>
                            <code-example code="
                            ng new routing-app --routing --defaults
                            "></code-example>
                          </ng-container>
                        
                          <ng-container #content1_1_Inner>
                            <mat-accordion>
                                <mat-expansion-panel>
                                    <mat-expansion-panel-header>
                                        <mat-panel-title>
                                            Adding components for routing
                                        </mat-panel-title>
                                    </mat-expansion-panel-header>
                                    <ng-container #content1Content_1>
                                        <ng-container #description_1_1>
                                            <p>To use the Angular router, an application needs to have at least two components so that it can navigate from one to the other. To create a component using the CLI, enter the following at the command line where first is the name of your component:</p>
                                            <code-example code="
                                            ng generate component first
                                            "></code-example>
                                            <p>Repeat this step for a second component but give it a different name. Here, the new name is second.</p>
                                            <code-example code="
                                            ng generate component second
                                            "></code-example>

                                            <p>The CLI automatically appends Component, so if you were to write first-component, your component would be FirstComponentComponent.</p>
                                            <span class="note">
                                                <p>base href</p>
                                                <p>This guide works with a CLI-generated Angular application. If you are working manually, make sure that you have base href="/"> in the head> of your index.html file. This assumes that the app folder is the application root, and uses "/".</p>
                                            </span>
                                        </ng-container>
                                    </ng-container>
                                </mat-expansion-panel>
                            </mat-accordion>
                          </ng-container>

                          <ng-container #content1_2_Inner>
                            <mat-accordion>
                                <mat-expansion-panel>
                                    <mat-expansion-panel-header>
                                        <mat-panel-title>
                                            Importing your new components
                                        </mat-panel-title>
                                    </mat-expansion-panel-header>
                                    <ng-container #content1Content_2>
                                        <ng-container #description_1_2>
                                            <p>To use your new components, import them into AppRoutingModule at the top of the file, as follows:</p>
                                            <code-example code="
                                            import { FirstComponent } from './first/first.component';
                                            import { SecondComponent } from './second/second.component';
                                            "></code-example>
                                        </ng-container>
                                    </ng-container>
                                </mat-expansion-panel>
                            </mat-accordion>
                          </ng-container>
                    </ng-container>
                    
                  </mat-expansion-panel>
                </mat-accordion>
            </ng-container>

            <ng-container #content2>
                <mat-accordion>
                  <mat-expansion-panel>
                      <mat-expansion-panel-header>
                          <mat-panel-title>
                            Defining a basic route
                          </mat-panel-title>
                      </mat-expansion-panel-header>
      
                      <ng-container #content2Content>
                          <ng-container #description_2>
                              <p>There are three fundamental building blocks to creating a route.</p>

                              <p>There are three fundamental building blocks to creating a route.</p>
                              <p>The Angular CLI performs this step for you. However, if you are creating an application manually or working with an existing, non-CLI application, verify that the imports and configuration are correct. The following is the default AppModule using the CLI with the --routing flag.</p>

                              <code-example code="
                              import { BrowserModule } from '@angular/platform-browser';
                              import { NgModule } from '@angular/core';
                              import { AppRoutingModule } from './app-routing.module'; // CLI imports AppRoutingModule
                              import { AppComponent } from './app.component';
                              
                              @NgModule({
                                declarations: [
                                  AppComponent
                                ],
                                imports: [
                                  BrowserModule,
                                  AppRoutingModule // CLI adds AppRoutingModule to the AppModule's imports array
                                ],
                                providers: [],
                                bootstrap: [AppComponent]
                              })
                              export class AppModule { }
                              "></code-example>

                              <ol>
                                  <li>
                                      <p>Import RouterModule and Routes into your routing module.</p>
                                      <p>The Angular CLI performs this step automatically. The CLI also sets up a Routes array for your routes and configures the imports and exports arrays for @NgModule().</p>
                                      <code-example code="
                                      import { NgModule } from '@angular/core';
                                      import { Routes, RouterModule } from '@angular/router'; // CLI imports router
                                      
                                      const routes: Routes = []; // sets up routes constant where you define your routes
                                      
                                      // configures NgModule imports and exports
                                      @NgModule({
                                        imports: [RouterModule.forRoot(routes)],
                                        exports: [RouterModule]
                                      })
                                      export class AppRoutingModule { }
                                      "></code-example>
                                  </li>
                                  <li>
                                      <p>Define your routes in your Routes array.</p>
                                      <p>Each route in this array is a JavaScript object that contains two properties. The first property, path, defines the URL path for the route. The second property, component, defines the component Angular should use for the corresponding path.</p>
                                      <code-example code="
                                      const routes: Routes = [
                                      { path: 'first-component', component: FirstComponent },
                                      { path: 'second-component', component: SecondComponent },
                                    ];
                                      "></code-example>
                                  </li>
                                  <li>
                                      <p>Add your routes to your application.</p>
                                      <p>Now that you have defined your routes, add them to your application. First, add links to the two components. Assign the anchor tag that you want to add the route to the routerLink attribute. Set the value of the attribute to the component to show when a user clicks on each link.</p>
                                      <p>Next, update your component template to include router-outlet>. This element informs Angular to update the application view with the component for the selected route.</p>
                                      <code-example code="
                                      < h1>Angular Router App</h1>
                                      <!-- This nav gives you links to click, which tells the router which route to use (defined in the routes constant in  AppRoutingModule) -->
                                      < nav>
                                        < ul>
                                          < li>< a routerLink='/first-component' routerLinkActive='active'>First Component</a></li>
                                          < li>< a routerLink='/second-component' routerLinkActive='active'>Second Component</a></li>
                                        </ul>
                                      </nav>
                                      <!-- The routed views render in the <router-outlet>-->
                                      <router-outlet></router-outlet>
                                      "></code-example>
                                  </li>
                              </ol>

                              <br>
                              <h3>Route order</h3>
                              <p>The order of routes is important because the Router uses a first-match wins strategy when matching routes, so more specific routes should be placed above less specific routes. List routes with a static path first, followed by an empty path route, which matches the default route. The wildcard route comes last because it matches every URL and the Router selects it only if no other routes match first.</p>
                          </ng-container>
                    </ng-container>
                  </mat-expansion-panel>
                </mat-accordion>
            </ng-container>

            <ng-container #content3>
                <mat-accordion>
                  <mat-expansion-panel>
                      <mat-expansion-panel-header>
                          <mat-panel-title>
                            Getting route information
                          </mat-panel-title>
                      </mat-expansion-panel-header>
      
                      <ng-container #content3Content>
                          <ng-container #description_3>
                              <p>Often, as a user navigates your application, you want to pass information from one component to another. For example, consider an application that displays a shopping list of grocery items. Each item in the list has a unique id. To edit an item, users click an Edit button, which opens an EditGroceryItem component. You want that component to retrieve the id for the grocery item so it can display the right information to the user.</p>
                              <p>Use a route to pass this type of information to your application components. To do so, you use the ActivatedRoute interface.</p>
                              <p>To get information from a route:</p>
                              <ol>
                                  <li>
                                      <p>Import ActivatedRoute and ParamMap to your component.</p>
                                      <code-example code="
                                      import { Router, ActivatedRoute, ParamMap } from '@angular/router';
                                      "></code-example>
                                      <p>These import statements add several important elements that your component needs. To learn more about each, see the following API pages:</p>
                                      <ul>
                                          <li>Router</li>
                                          <li>ActivatedRoute</li>
                                          <li>ParamMap</li>
                                      </ul>
                                  </li>
                                  <li>
                                      <p>Inject an instance of ActivatedRoute by adding it to your application's constructor:</p>
                                      <code-example code="
                                      constructor(
                                        private route: ActivatedRoute,
                                      ) {}
                                      "></code-example>
                                  </li>
                                  <li>
                                      <p>Update the ngOnInit() method to access the ActivatedRoute and track the id parameter:</p>
                                      <code-example code="
                                      ngOnInit() {
                                        this.route.queryParams.subscribe(params => {
                                          this.name = params['name'];
                                        });
                                      }
                                      "></code-example>
                                      <p class="note">Note: The preceding example uses a variable, name, and assigns it the value based on the name parameter.</p>
                                  </li>
                              </ol>
                          </ng-container>
                    </ng-container>
                  </mat-expansion-panel>
                </mat-accordion>
            </ng-container>

            <ng-container #content4>
                <mat-accordion>
                  <mat-expansion-panel>
                      <mat-expansion-panel-header>
                          <mat-panel-title>
                            Setting up wildcard routes
                          </mat-panel-title>
                      </mat-expansion-panel-header>
      
                      <ng-container #content4Content>
                          <ng-container #description_4>
                              <p>A well-functioning application should gracefully handle when users attempt to navigate to a part of your application that does not exist. To add this functionality to your application, you set up a wildcard route. The Angular router selects this route any time the requested URL doesn't match any router paths.</p>
                              <p>To set up a wildcard route, add the following code to your routes definition.</p>
                              <code-example code="
                              { path: '**', component:  }
                              "></code-example>
                              <p>The two asterisks, **, indicate to Angular that this routes definition is a wildcard route. For the component property, you can define any component in your application. Common choices include an application-specific PageNotFoundComponent, which you can define to display a 404 page to your users; or a redirect to your application's main component. A wildcard route is the last route because it matches any URL.</p>
                          </ng-container>
                    </ng-container>
                  </mat-expansion-panel>
                </mat-accordion>
            </ng-container>

            <ng-container #content5>
                <mat-accordion>
                  <mat-expansion-panel>
                      <mat-expansion-panel-header>
                          <mat-panel-title>
                            Displaying a 404 page
                          </mat-panel-title>
                      </mat-expansion-panel-header>
      
                      <ng-container #content5Content>
                          <ng-container #description_5>
                              <p>To display a 404 page, set up a wildcard route with the component property set to the component you'd like to use for your 404 page as follows:</p>
                              <code-example code="
                              const routes: Routes = [
                              { path: 'first-component', component: FirstComponent },
                              { path: 'second-component', component: SecondComponent },
                              { path: '**', component: PageNotFoundComponent },  // Wildcard route for a 404 page
                            ];
                              "></code-example>

                              <p>The last route with the path of ** is a wildcard route. The router selects this route if the requested URL doesn't match any of the paths earlier in the list and sends the user to the PageNotFoundComponent.</p>
                          </ng-container>
                    </ng-container>
                  </mat-expansion-panel>
                </mat-accordion>
            </ng-container>

            <ng-container #content6>
                <mat-accordion>
                  <mat-expansion-panel>
                      <mat-expansion-panel-header>
                          <mat-panel-title>
                            Setting up redirects
                          </mat-panel-title>
                      </mat-expansion-panel-header>
      
                      <ng-container #content6Content>
                          <ng-container #description_6>
                              <p>To set up a redirect, configure a route with the path you want to redirect from, the component you want to redirect to, and a pathMatch value that tells the router how to match the URL.</p>
                              <code-example code="
                              const routes: Routes = [
                              { path: 'first-component', component: FirstComponent },
                              { path: 'second-component', component: SecondComponent },
                              { path: '',   redirectTo: '/first-component', pathMatch: 'full' }, // redirect to `first-component`
                              { path: '**', component: PageNotFoundComponent },  // Wildcard route for a 404 page
                            ];
                              "></code-example>

                              <p>In this example, the third route is a redirect so that the router defaults to the first-component route. Notice that this redirect precedes the wildcard route. Here, path: '' means to use the initial relative URL ('').</p>
                          </ng-container>
                    </ng-container>
                  </mat-expansion-panel>
                </mat-accordion>
            </ng-container>

            <ng-container #content7>
                <mat-accordion>
                  <mat-expansion-panel>
                      <mat-expansion-panel-header>
                          <mat-panel-title>
                            Nesting routes
                          </mat-panel-title>
                      </mat-expansion-panel-header>
      
                      <ng-container #content7Content>
                          <ng-container #description_7>
                              <p>As your application grows more complex, you might want to create routes that are relative to a component other than your root component. These types of nested routes are called child routes. This means you're adding a second router-outlet> to your app, because it is in addition to the router-outlet> in AppComponent.</p>
                              <p>In this example, there are two additional child components, child-a, and child-b. Here, FirstComponent has its own nav> and a second router-outlet> in addition to the one in AppComponent.</p>
                              <code-example code="
                              < h2>First Component</h2>

                              < nav>
                                < ul>
                                  < li>< a routerLink='child-a'>Child A</a></li>
                                  < li>< a routerLink='child-b'>Child B</a></li>
                                </ul>
                              </nav>
                              
                              < router-outlet></router-outlet>
                              "></code-example>

                              <p>A child route is like any other route, in that it needs both a path and a component. The one difference is that you place child routes in a children array within the parent route.</p>
                              <code-example code="
                              const routes: Routes = [
                              {
                                path: 'first-component',
                                component: FirstComponent, // this is the component with the <router-outlet> in the template
                                children: [
                                  {
                                    path: 'child-a', // child route path
                                    component: ChildAComponent, // child route component that the router renders
                                  },
                                  {
                                    path: 'child-b',
                                    component: ChildBComponent, // another child route component that the router renders
                                  },
                                ],
                              },
                            ];
                              "></code-example>
                          </ng-container>
                    </ng-container>
                  </mat-expansion-panel>
                </mat-accordion>
            </ng-container>

            <ng-container #content8>
                <mat-accordion>
                  <mat-expansion-panel>
                      <mat-expansion-panel-header>
                          <mat-panel-title>
                            Using relative paths
                          </mat-panel-title>
                      </mat-expansion-panel-header>
      
                      <ng-container #content8Content>
                          <ng-container #description_8>
                              <p>Relative paths let you define paths that are relative to the current URL segment. The following example shows a relative route to another component, second-component. FirstComponent and SecondComponent are at the same level in the tree, however, the link to SecondComponent is situated within the FirstComponent, meaning that the router has to go up a level and then into the second directory to find the SecondComponent. Rather than writing out the whole path to get to SecondComponent, use the ../ notation to go up a level.</p>
                              <code-example code="
                              < h2>First Component</h2>

                              < nav>
                                < ul>
                                  < li>< a routerLink='../second-component'>Relative Route to second component</a></li>
                                </ul>
                              </nav>
                              < router-outlet></router-outlet>
                              "></code-example>

                              <p>In addition to ../, use ./ or no leading slash to specify the current level.</p>

                              <br>
                              <h3>Specifying a relative route</h3>
                              <p>To specify a relative route, use the NavigationExtras relativeTo property. In the component class, import NavigationExtras from the @angular/router.</p>
                              <p>Then use relativeTo in your navigation method. After the link parameters array, which here contains items, add an object with the relativeTo property set to the ActivatedRoute, which is this.route.</p>
                              <code-example code="
                              goToItems() {
                                this.router.navigate(['items'], { relativeTo: this.route });
                              }
                              "></code-example>
                              <p>The goToItems() method interprets the destination URI as relative to the activated route and navigates to the items route.</p>

                          </ng-container>
                    </ng-container>
                  </mat-expansion-panel>
                </mat-accordion>
            </ng-container>

            <ng-container #content9>
                <mat-accordion>
                  <mat-expansion-panel>
                      <mat-expansion-panel-header>
                          <mat-panel-title>
                              Accessing query parameters and fragments
                          </mat-panel-title>
                      </mat-expansion-panel-header>
      
                      <ng-container #content9Content>
                          <ng-container #description_9>
                              <p>Sometimes, a feature of your application requires accessing a part of a route, such as a query parameter or a fragment. The Tour of Heroes application at this stage in the tutorial uses a list view in which you can click on a hero to see details. The router uses an id to show the correct hero's details.</p>
                              <p>First, import the following members in the component you want to navigate from.</p>
                              <code-example code="
                              import { ActivatedRoute } from '@angular/router';
                              import { Observable } from 'rxjs';
                              import { switchMap } from 'rxjs/operators';
                              "></code-example>

                              <p>Next inject the activated route service:</p>
                              <code-example code="
                              constructor(private route: ActivatedRoute) {}
                              "></code-example>

                              <p>Configure the class so that you have an observable, heroes$, a selectedId to hold the id number of the hero, and the heroes in the ngOnInit(), add the following code to get the id of the selected hero. This code snippet assumes that you have a heroes list, a hero service, a function to get your heroes, and the HTML to render your list and details, just as in the Tour of Heroes example.</p>
                              <code-example code="
                              heroes$: Observable;
                              selectedId: number;
                              heroes = HEROES;
                              
                              ngOnInit() {
                                this.heroes$ = this.route.paramMap.pipe(
                                  switchMap(params => {
                                    this.selectedId = Number(params.get('id'));
                                    return this.service.getHeroes();
                                  })
                                );
                              }                              
                              "></code-example>

                              <p>Next, in the component that you want to navigate to, import the following members.</p>
                              <code-example code="
                              import { Router, ActivatedRoute, ParamMap } from '@angular/router';
                              import { Observable } from 'rxjs';
                              "></code-example>

                              <p>Inject ActivatedRoute and Router in the constructor of the component class so they are available to this component:</p>
                              <code-example code="
                              hero$: Observable;

                              constructor(
                                private route: ActivatedRoute,
                                private router: Router  ) {}
                            
                              ngOnInit() {
                                const heroId = this.route.snapshot.paramMap.get('id');
                                this.hero$ = this.service.getHero(heroId);
                              }
                            
                              gotoItems(hero: Hero) {
                                const heroId = hero ? hero.id : null;
                                // Pass along the hero id if available
                                // so that the HeroList component can select that item.
                                this.router.navigate(['/heroes', { id: heroId }]);
                              }
                              "></code-example>
                          </ng-container>
                    </ng-container>
                  </mat-expansion-panel>
                </mat-accordion>
            </ng-container>

            <ng-container #content10>
                <mat-accordion>
                  <mat-expansion-panel>
                      <mat-expansion-panel-header>
                          <mat-panel-title>
                            Lazy loading
                          </mat-panel-title>
                      </mat-expansion-panel-header>
      
                      <ng-container #content10Content>
                          <ng-container #description_10>
                              <p>You can configure your routes to lazy load modules, which means that Angular only loads modules as needed, rather than loading all modules when the application launches. Additionally, preload parts of your application in the background to improve the user experience.</p>
                              <p>For more information on lazy loading and preloading see the dedicated guide Lazy loading NgModules.</p>
                          </ng-container>
                    </ng-container>
                  </mat-expansion-panel>
                </mat-accordion>
            </ng-container>

            <ng-container #content11>
                <mat-accordion>
                  <mat-expansion-panel>
                      <mat-expansion-panel-header>
                          <mat-panel-title>
                            Preventing unauthorized access
                          </mat-panel-title>
                      </mat-expansion-panel-header>
      
                      <ng-container #content11Content>
                          <ng-container #description_11>
                              <p>Use route guards to prevent users from navigating to parts of an application without authorization. The following route guards are available in Angular:</p>
                              <ul>
                                  <li>CanActivate</li>
                                  <li>CanActivateChild</li>
                                  <li>CanDeactivate</li>
                                  <li>Resolve</li>
                                  <li>CanLoad</li>
                              </ul>
                              <p>To use route guards, consider using component-less routes as this facilitates guarding child routes.</p>
                              <p>Create a service for your guard:</p>
                              <code-example code="
                              ng generate guard your-guard
                              "></code-example>

                              <p>In your guard class, implement the guard you want to use. The following example uses CanActivate to guard the route.</p>
                              <code-example code="
                              export class YourGuard implements CanActivate {
                                canActivate(
                                  next: ActivatedRouteSnapshot,
                                  state: RouterStateSnapshot): boolean {
                                    // your  logic goes here
                                }
                              }
                              "></code-example>

                              <p>In your routing module, use the appropriate property in your routes configuration. Here, canActivate tells the router to mediate navigation to this particular route.</p>
                              <code-example code="
                              {
                                path: '/your-path',
                                component: YourComponent,
                                canActivate: [YourGuard],
                              }
                              "></code-example>
                          </ng-container>
                    </ng-container>
                  </mat-expansion-panel>
                </mat-accordion>
            </ng-container>

            <ng-container #content12>
                <mat-accordion>
                  <mat-expansion-panel>
                      <mat-expansion-panel-header>
                          <mat-panel-title>
                            Link parameters array
                          </mat-panel-title>
                      </mat-expansion-panel-header>
      
                      <ng-container #content12Content>
                          <ng-container #description_12>
                              <p>A link parameters array holds the following ingredients for router navigation:</p>
                              <ol>
                                  <li>The path of the route to the destination component.</li>
                                  <li>Required and optional route parameters that go into the route URL.</li>
                              </ol>

                              <p>Bind the RouterLink directive to such an array like this:</p>
                              <code-example code="
                              < a [routerLink]='['/heroes']'>Heroes</a>
                              "></code-example>
                              <p>The following is a two-element array when specifying a route parameter:</p>
                              <code-example code="
                              < a [routerLink]='['/hero', hero.id]'>
                                < span class='badge'>{ hero.id }</span>{ hero.name }
                              </a>
                              "></code-example>

                              <p>Provide optional route parameters in an object, as in {{"{ foo: 'foo' }" }}:</p>
                              <code-example code="
                              < a [routerLink]='['/crisis-center', { foo: 'foo' }]'>Crisis Center</a>
                              "></code-example>

                              <p>These three examples cover the needs of an application with one level of routing. However, with a child router, such as in the crisis center, you create new link array possibilities.</p>
                              <p>The following minimal RouterLink example builds upon a specified default child route for the crisis center.</p>
                              <code-example code="
                              < a [routerLink]='['/crisis-center']'>Crisis Center</a>
                              "></code-example>

                              <p>Note the following:</p>
                              <ul>
                                  <li>The first item in the array identifies the parent route (/crisis-center).</li>
                                  <li>There are no parameters for this parent route.</li>
                                  <li>There is no default for the child route so you need to pick one.</li>
                                  <li>You're navigating to the CrisisListComponent, whose route path is /, but you don't need to explicitly add the slash.</li>
                              </ul>

                              <p>Consider the following router link that navigates from the root of the application down to the Dragon Crisis:</p>
                              <code-example code="
                              < a [routerLink]='['/crisis-center', 1]'>Dragon Crisis</a>
                              "></code-example>

                              <ul>
                                  <li>The first item in the array identifies the parent route (/crisis-center).</li>
                                  <li>There are no parameters for this parent route.</li>
                                  <li>The second item identifies the child route details about a particular crisis (/:id).</li>
                                  <li>The details child route requires an id route parameter.</li>
                                  <li>You added the id of the Dragon Crisis as the second item in the array (1).</li>
                                  <li>The resulting path is /crisis-center/1.</li>
                              </ul>

                              <p>You could also redefine the AppComponent template with Crisis Center routes exclusively:</p>

                              <code-example code="
                              template: `
                              < h1 class='title'>Angular Router</h1>
                              < nav>
                                < a [routerLink]='['/crisis-center']'>Crisis Center</a>
                                < a [routerLink]='['/crisis-center/1', { foo: 'foo' }]'>Dragon Crisis</a>
                                < a [routerLink]='['/crisis-center/2']'>Shark Crisis</a>
                              </nav>
                              < router-outlet></router-outlet>
                            `
                              "></code-example>

                              <p>In summary, you can write applications with one, two or more levels of routing. The link parameters array affords the flexibility to represent any routing depth and any legal sequence of route paths, (required) router parameters, and (optional) route parameter objects.</p>
                          </ng-container>
                    </ng-container>
                  </mat-expansion-panel>
                </mat-accordion>
            </ng-container>

            <ng-container #content13>
                <mat-accordion>
                  <mat-expansion-panel>
                      <mat-expansion-panel-header>
                          <mat-panel-title>
                            LocationStrategy and browser URL styles
                          </mat-panel-title>
                      </mat-expansion-panel-header>
      
                      <ng-container #content13Content>
                          <ng-container #description_13>
                              <p>When the router navigates to a new component view, it updates the browser's location and history with a URL for that view.</p>
                              <p>Modern HTML5 browsers support history.pushState, a technique that changes a browser's location and history without triggering a server page request. The router can compose a "natural" URL that is indistinguishable from one that would otherwise require a page load.</p>
                              <p>Here's the Crisis Center URL in this "HTML5 pushState" style:</p>
                              <code-example code="
                              localhost:3002/crisis-center/
                              "></code-example>

                              <p>Older browsers send page requests to the server when the location URL changes unless the change occurs after a "#" (called the "hash"). Routers can take advantage of this exception by composing in-application route URLs with hashes. Here's a "hash URL" that routes to the Crisis Center.</p>
                              <code-example code="
                              localhost:3002/src/#/crisis-center/
                              "></code-example>

                              <p>The router supports both styles with two LocationStrategy providers:</p>
                              <ol>
                                  <li>PathLocationStrategy—the default "HTML5 pushState" style.</li>
                                  <li>HashLocationStrategy—the "hash URL" style.</li>
                              </ol>

                              <p>The RouterModule.forRoot() function sets the LocationStrategy to the PathLocationStrategy, which makes it the default strategy. You also have the option of switching to the HashLocationStrategy with an override during the bootstrapping process.</p>

                          </ng-container>
                    </ng-container>
                  </mat-expansion-panel>
                </mat-accordion>
            </ng-container>

            <ng-container #content14>
                <mat-accordion>
                  <mat-expansion-panel>
                      <mat-expansion-panel-header>
                          <mat-panel-title>
                              Choosing a routing strategy
                          </mat-panel-title>
                      </mat-expansion-panel-header>
      
                      <ng-container #content14Content>
                          <ng-container #description_14>
                              <p>You must choose a routing strategy early in the development of your project because once the application is in production, visitors to your site use and depend on application URL references.</p>
                              <p>Almost all Angular projects should use the default HTML5 style. It produces URLs that are easier for users to understand and it preserves the option to do server-side rendering.</p>
                              <p>Rendering critical pages on the server is a technique that can greatly improve perceived responsiveness when the application first loads. An application that would otherwise take ten or more seconds to start could be rendered on the server and delivered to the user's device in less than a second.</p>
                              <p>This option is only available if application URLs look like normal web URLs without hashes (#) in the middle.</p>
                          </ng-container>
                    </ng-container>
                  </mat-expansion-panel>
                </mat-accordion>
            </ng-container>

            <ng-container #content15>
                <mat-accordion>
                  <mat-expansion-panel>
                      <mat-expansion-panel-header>
                          <mat-panel-title>
                             base href>
                          </mat-panel-title>
                      </mat-expansion-panel-header>
      
                      <ng-container #content15Content>
                            <ng-container #description_15>
                                <p>The router uses the browser's history.pushState for navigation. pushState lets you customize in-application URL paths; for example, localhost:4200/crisis-center. The in-application URLs can be indistinguishable from server URLs.</p>
                                <p>Modern HTML5 browsers were the first to support pushState which is why many people refer to these URLs as "HTML5 style" URLs.</p>
                                <p class="note">HTML5 style navigation is the router default. In the LocationStrategy and browser URL styles section, learn why HTML5 style is preferable, how to adjust its behavior, and how to switch to the older hash (#) style, if necessary.</p>
                                <p>You must add a base href> element to the application's index.html for pushState routing to work. The browser uses the base href> value to prefix relative URLs when referencing CSS files, scripts, and images.</p>
                                <p>Add the base> element just after the head> tag. If the app folder is the application root, as it is for this application, set the href value in index.html as shown here.</p>
                                <code-example code="
                                < base href='/'>
                                "></code-example>
                            </ng-container>

                            <ng-container #content1_1_Inner>
                                <mat-accordion>
                                    <mat-expansion-panel>
                                        <mat-expansion-panel-header>
                                            <mat-panel-title>
                                                HTML5 URLs and the base href>
                                            </mat-panel-title>
                                        </mat-expansion-panel-header>
                                        <ng-container #content1Content_1>
                                            <ng-container #description_1_1>
                                                <p>The guidelines that follow will refer to different parts of a URL. This diagram outlines what those parts refer to:</p>
                                                <code-example code="
                                                foo://example.com:8042/over/there?name=ferret#nose
                                                \_/   \______________/\_________/ \_________/ \__/
                                                 |           |            |            |        |
                                                scheme    authority      path        query   fragment
                                                "></code-example>
                                                <p>While the router uses the HTML5 pushState style by default, you must configure that strategy with a base href>.</p>
                                                <p>The preferred way to configure the strategy is to add a base href> element tag in the head> of the index.html.</p>
                                                <code-example code="
                                                < base href='/'>
                                                "></code-example>

                                                <p>Without that tag, the browser might not be able to load resources (images, CSS, scripts) when "deep linking" into the application.</p>
                                                <p>Some developers might not be able to add the base> element, perhaps because they don't have access to head> or the index.html.</p>
                                                <p>Those developers can still use HTML5 URLs by taking the following two steps:</p>
                                                <ol>
                                                    <li>Provide the router with an appropriate APP_BASE_HREF value.</li>
                                                    <li>Use root URLs (URLs with an authority) for all web resources: CSS, images, scripts, and template HTML files.
                                                        <ul>
                                                            <li>The base href> path should end with a "/", as browsers ignore characters in the path that follow the right-most "/".</li>
                                                            <li>If the base href> includes a query part, the query is only used if the path of a link in the page is empty and has no query. This means that a query in the base href> is only included when using HashLocationStrategy.</li>
                                                            <li>If a link in the page is a root URL (has an authority), the base href> is not used. In this way, an APP_BASE_HREF with an authority will cause all links created by Angular to ignore the base href> value.</li>
                                                            <li>A fragment in the base href> is never persisted.</li>
                                                        </ul>
                                                    </li>
                                                </ol>
                                            </ng-container>
                                        </ng-container>
                                    </mat-expansion-panel>
                                </mat-accordion>
                            </ng-container>

                            <ng-container #content1_2_Inner>
                                <mat-accordion>
                                    <mat-expansion-panel>
                                        <mat-expansion-panel-header>
                                            <mat-panel-title>
                                                HashLocationStrategy
                                            </mat-panel-title>
                                        </mat-expansion-panel-header>
                                        <ng-container #content1Content_2>
                                            <ng-container #description_1_2>
                                                <p>Use HashLocationStrategy by providing the useHash: true in an object as the second argument of the RouterModule.forRoot() in the AppModule.</p>
                                                <code-example code="
                                                import { NgModule } from '@angular/core';
                                                import { BrowserModule } from '@angular/platform-browser';
                                                import { FormsModule } from '@angular/forms';
                                                import { Routes, RouterModule } from '@angular/router';
                                                
                                                import { AppComponent } from './app.component';
                                                import { PageNotFoundComponent } from './page-not-found/page-not-found.component';
                                                
                                                const routes: Routes = [
                                                
                                                ];
                                                
                                                @NgModule({
                                                  imports: [
                                                    BrowserModule,
                                                    FormsModule,
                                                    RouterModule.forRoot(routes, { useHash: true })  // .../#/crisis-center/
                                                  ],
                                                  declarations: [
                                                    AppComponent,
                                                    PageNotFoundComponent
                                                  ],
                                                  providers: [
                                                
                                                  ],
                                                  bootstrap: [ AppComponent ]
                                                })
                                                export class AppModule { }
                                                "></code-example>
                                            </ng-container>
                                        </ng-container>
                                    </mat-expansion-panel>
                                </mat-accordion>
                            </ng-container>
                        </ng-container>
                  </mat-expansion-panel>
                </mat-accordion>
            </ng-container>
        </ng-container>
    </mat-expansion-panel>
</ng-template>

<ng-template #singlePageTemplate>
    <mat-expansion-panel>
        <mat-expansion-panel-header>
          <mat-panel-title>
            Single-page Application
          </mat-panel-title>
        </mat-expansion-panel-header>

        <ng-container #singlePageContent>
            <ng-container #description>
              <p>In a Single Page Application (SPA), all of your application's functions exist in a single HTML page. As users access your application's features, the browser needs to render only the parts that matter to the user, instead of loading a new page. This pattern can significantly improve your application's user experience.</p>
              <p>To define how users navigate through your application, you use routes. Add routes to define how users navigate from one part of your application to another. You can also configure routes to guard against unexpected or unauthorized behavior.</p>
            </ng-container>
        </ng-container>

        <ng-container #content1>
            <mat-accordion>
              <mat-expansion-panel>
                  <mat-expansion-panel-header>
                      <mat-panel-title>
                        Objectives
                      </mat-panel-title>
                  </mat-expansion-panel-header>
  
                  <ng-container #content1Content>
                      <ng-container #description_1>
                          <ul>
                            <li>Organize a sample application's features into modules.</li>
                            <li>Define how to navigate to a component.</li>
                            <li>Pass information to a component using a parameter.</li>
                            <li>Structure routes by nesting several routes.</li>
                            <li>Check whether users can access a route.</li>
                            <li>Control whether the application can discard unsaved changes.</li>
                            <li>Improve performance by pre-fetching route data and lazy loading feature modules.</li>
                            <li>Require specific criteria to load components.</li>
                          </ul>
                      </ng-container>
                </ng-container>
              </mat-expansion-panel>
            </mat-accordion>
        </ng-container>

        <ng-container #content2>
            <mat-accordion>
              <mat-expansion-panel>
                  <mat-expansion-panel-header>
                      <mat-panel-title>
                        Create a sample application
                      </mat-panel-title>
                  </mat-expansion-panel-header>
  
                  <ng-container #content2Content>
                      <ng-container #description_2>
                        <p>Using the Angular CLI, create a new application, angular-router-sample. This application will have two components: crisis-list and heroes-list.</p>
                        <ol>
                          <li>
                            <p>Create a new Angular project, angular-router-sample.</p>
                            <code-example code="
                            ng new angular-router-sample
                            "></code-example>
                            <p>When prompted with Would you like to add Angular routing?, select N.</p>
                            <p>When prompted with Which stylesheet format would you like to use?, select CSS.</p>
                            <p>After a few moments, a new project, angular-router-sample, is ready.</p>
                          </li>
                          <li>From your terminal, navigate to the angular-router-sample directory.</li>
                          <li>
                            <p>Create a component, crisis-list.</p>
                            <code-example code="
                            ng generate component crisis-list
                            "></code-example>
                          </li>
                          <li>
                            <p>In your code editor, locate the file, crisis-list.component.html and replace the placeholder content with the following HTML.</p>
                            <code-example code="
                            < h3>CRISIS CENTER</h3>
                            < p>Get your crisis here</p>
                            "></code-example>
                          </li>
                          <li>
                            <p>Create a second component, heroes-list.</p>
                            <code-example code="
                            ng generate component heroes-list
                            "></code-example>
                          </li>
                          <li>
                            <p>In your code editor, locate the file, heroes-list.component.html and replace the placeholder content with the following HTML.</p>
                            <code-example code="
                            < h3>HEROES</h3>
                            < p>Get your heroes here</p>
                            "></code-example>
                          </li>
                          <li>
                            <p>In your code editor, open the file, app.component.html and replace its contents with the following HTML.</p>
                            <code-example code="
                            < h1>Angular Router Sample</h1>
                            < app-crisis-list></app-crisis-list>
                            < app-heroes-list></app-heroes-list>
                            "></code-example>
                          </li>
                          <li>
                            <p>Verify that your new application runs as expected by running the ng serve command.</p>
                            <code-example code="
                              ng serve
                            "></code-example>
                          </li>
                          <li>
                            <p>Open a browser to http://localhost:4200.</p>
                            <p>You should see a single web page, consisting of a title and the HTML of your two components.</p>
                          </li>
                        </ol>
                      </ng-container>
                </ng-container>
              </mat-expansion-panel>
            </mat-accordion>
        </ng-container>

        <ng-container #content3>
            <mat-accordion>
              <mat-expansion-panel>
                  <mat-expansion-panel-header>
                      <mat-panel-title>
                        Import RouterModule from @angular/router
                      </mat-panel-title>
                  </mat-expansion-panel-header>
  
                  <ng-container #content3Content>
                      <ng-container #description_3>
                        <p>Routing lets you display specific views of your application depending on the URL path. To add this functionality to your sample application, you need to update the app.module.ts file to use the module, RouterModule. You import this module from @angular/router.</p>
                        <ol>
                          <li>From your code editor, open the app.module.ts file.</li>
                          <li>
                            <p>Add the following import statement.</p>
                            <code-example code="
                            import { RouterModule } from '@angular/router';
                            "></code-example>
                          </li>
                        </ol>
                      </ng-container>
                </ng-container>
              </mat-expansion-panel>
            </mat-accordion>
        </ng-container>

        <ng-container #content4>
            <mat-accordion>
              <mat-expansion-panel>
                  <mat-expansion-panel-header>
                      <mat-panel-title>
                        Define your routes
                      </mat-panel-title>
                  </mat-expansion-panel-header>
  
                  <ng-container #content4Content>
                      <ng-container #description_4>
                        <p>In this section, you'll define two routes:</p>
                        <ul>
                          <li>The route /crisis-center opens the crisis-center component.</li>
                          <li>The route /heroes-list opens the heroes-list component.</li>
                        </ul>
                        <p>A route definition is a JavaScript object. Each route typically has two properties. The first property, path, is a string that specifies the URL path for the route. The second property, component, is a string that specifies what component your application should display for that path.</p>
                        <ol>
                          <li>From your code editor, open the app.module.ts file.</li>
                          <li>Locate the @NgModule() section.</li>
                          <li>
                            <p>Replace the imports array in that section with the following.</p>
                            <code-example code="
                            imports: [
                            BrowserModule,
                            RouterModule.forRoot([
                              {path: 'crisis-list', component: CrisisListComponent},
                              {path: 'heroes-list', component: HeroesListComponent},
                            ]),
                          ],
                            "></code-example>
                            <p>This code adds the RouterModule to the imports array. Next, the code uses the forRoot() method of the RouterModule to define your two routes. This method takes an array of JavaScript objects, with each object defining the properties of a route. The forRoot() method ensures that your application only instantiates one RouterModule. </p>
                          </li>
                        </ol>
                      </ng-container>
                </ng-container>
              </mat-expansion-panel>
            </mat-accordion>
        </ng-container>

        <ng-container #content5>
            <mat-accordion>
              <mat-expansion-panel>
                  <mat-expansion-panel-header>
                      <mat-panel-title>
                        Update your component with router-outlet
                      </mat-panel-title>
                  </mat-expansion-panel-header>
  
                  <ng-container #content5Content>
                      <ng-container #description_5>
                        <p>At this point, you have defined two routes for your application. However, your application still has both the crisis-list and heroes-list components hard-coded in your app.component.html template. For your routes to work, you need to update your template to dynamically load a component based on the URL path.</p>
                        <p>To implement this functionality, you add the router-outlet directive to your template file.</p>
                        <ol>
                          <li>From your code editor, open the app.component.html file.</li>
                          <li>
                            <p>Delete the following lines.</p>
                            <code-example code="
                            < app-crisis-list></app-crisis-list>
                            < app-heroes-list></app-heroes-list>
                            "></code-example>
                          </li>
                          <li>
                            <p>Add the router-outlet directive.</p>
                            <code-example code="
                            <router-outlet></router-outlet>
                            "></code-example>
                          </li>
                        </ol>
                        <p>View your updated application in your browser. You should see only the application title. To view the crisis-list component, add crisis-list to the end of the path in your browser's address bar. For example:</p>
                        <code-example code="
                        http://localhost:4200/crisis-list
                        "></code-example>

                        <p>Notice that the crisis-list component displays. Angular is using the route you defined to dynamically load the component. You can load the heroes-list component the same way:</p>
                        <code-example code="
                        http://localhost:4200/heroes-list
                        "></code-example>
                      </ng-container>
                </ng-container>
              </mat-expansion-panel>
            </mat-accordion>
        </ng-container>

        <ng-container #content6>
            <mat-accordion>
              <mat-expansion-panel>
                  <mat-expansion-panel-header>
                      <mat-panel-title>
                        Control navigation with UI elements
                      </mat-panel-title>
                  </mat-expansion-panel-header>
  
                  <ng-container #content6Content>
                      <ng-container #description_6>
                        <p>Currently, your application supports two routes. However, the only way to use those routes is for the user to manually type the path in the browser's address bar. In this section, you'll add two links that users can click to navigate between the heroes-list and crisis-list components. You'll also add some CSS styles. While these styles are not required, they make it easier to identify the link for the currently-displayed component. You'll add that functionality in the next section.</p>
                        <ol>
                          <li>
                            <p>Open the app.component.html file and add the following HTML below the title.</p>
                            <code-example code="
                            < nav>
                              < a class='button' routerLink='/crisis-list'>Crisis Center</a> |
                              < a class='button' routerLink='/heroes-list'>Heroes</a>
                            </nav>
                            "></code-example>
                            <p>This HTML uses an Angular directive, routerLink. This directive connects the routes you defined to your template files.</p>
                          </li>
                          <li>
                            <p>Open the app.component.css file and add the following styles.</p>
                            <code-example code="
                            .button {
                              box-shadow: inset 0 1px 0 0 #ffffff;
                              background: #ffffff linear-gradient(to bottom, #ffffff 5%, #f6f6f6 100%);
                              border-radius: 6px;
                              border: 1px solid #dcdcdc;
                              display: inline-block;
                              cursor: pointer;
                              color: #666666;
                              font-family: Arial, sans-serif;
                              font-size: 15px;
                              font-weight: bold;
                              padding: 6px 24px;
                              text-decoration: none;
                              text-shadow: 0 1px 0 #ffffff;
                              outline: 0;
                          }
                          .activebutton {
                              box-shadow: inset 0 1px 0 0 #dcecfb;
                              background: #bddbfa linear-gradient(to bottom, #bddbfa 5%, #80b5ea 100%);
                              border-radius: 6px;
                              border: 1px solid #84bbf3;
                              display: inline-block;
                              cursor: pointer;
                              color: #ffffff;
                              font-family: Arial, sans-serif;
                              font-size: 15px;
                              font-weight: bold;
                              padding: 6px 24px;
                              text-decoration: none;
                              text-shadow: 0 1px 0 #528ecc;
                              outline: 0;
                          }
                            "></code-example>
                          </li>
                        </ol>

                        <p>If you view your application in the browser, you should see these two links. When you click on a link, the corresponding component appears.</p>
                      </ng-container>
                </ng-container>
              </mat-expansion-panel>
            </mat-accordion>
        </ng-container>

        <ng-container #content7>
            <mat-accordion>
              <mat-expansion-panel>
                  <mat-expansion-panel-header>
                      <mat-panel-title>
                        Identify the active route
                      </mat-panel-title>
                  </mat-expansion-panel-header>
  
                  <ng-container #content7Content>
                      <ng-container #description_7>
                        <p>While users can navigate your application using the links you added in the previous section, they don't have a straightforward way to identify what the active route is. Add this functionality using Angular's routerLinkActive directive.</p>
                        <ol>
                          <li>From your code editor, open the app.component.html file.</li>
                          <li>
                            <p>Update the anchor tags to include the routerLinkActive directive.</p>
                            <code-example code="
                            < nav>
                              < a class='button' routerLink='/crisis-list' routerLinkActive='activebutton'>Crisis Center</a> |
                              < a class='button' routerLink='/heroes-list' routerLinkActive='activebutton'>Heroes</a>
                            </nav>
                            "></code-example>
                          </li>
                        </ol>
                        <p>View your application again. As you click one of the buttons, the style for that button updates automatically, identifying the active component to the user. By adding the routerLinkActive directive, you inform your application to apply a specific CSS class to the active route. In this tutorial, that CSS class is activebutton, but you could use any class that you want.</p>
                      </ng-container>
                </ng-container>
              </mat-expansion-panel>
            </mat-accordion>
        </ng-container>

        <ng-container #content8>
            <mat-accordion>
              <mat-expansion-panel>
                  <mat-expansion-panel-header>
                      <mat-panel-title>
                        Adding a redirect
                      </mat-panel-title>
                  </mat-expansion-panel-header>
  
                  <ng-container #content8Content>
                      <ng-container #description_8>
                        <p>In this step of the tutorial, you add a route that redirects the user to display the /heroes-list component.</p>
                        <ol>
                          <li>From your code editor, open the app.module.ts file.</li>
                          <li>
                            <p>In the imports array, update the RouterModule section as follows.</p>
                            <code-example code="
                            imports: [
                            BrowserModule,
                            RouterModule.forRoot([
                              {path: 'crisis-list', component: CrisisListComponent},
                              {path: 'heroes-list', component: HeroesListComponent},
                              {path: '', redirectTo: '/heroes-list', pathMatch: 'full'},
                            ]),
                          ],
                            "></code-example>
                            <p>Notice that this new route uses an empty string as its path. In addition, it replaces the component property with two new ones:</p>
                            <ul>
                              <li>redirectTo. This property instructs Angular to redirect from an empty path to the heroes-list path.</li>
                              <li>pathMatch. This property instructs Angular on how much of the URL to match. For this tutorial, you should set this property to full. This strategy is recommended when you have an empty string for a path.</li>
                            </ul>
                          </li>
                        </ol>
                        <p>Now when you open your application, it displays the heroes-list component by default.</p>
                      </ng-container>
                </ng-container>
              </mat-expansion-panel>
            </mat-accordion>
        </ng-container>

        <ng-container #content9>
            <mat-accordion>
              <mat-expansion-panel>
                  <mat-expansion-panel-header>
                      <mat-panel-title>
                        Adding a 404 page
                      </mat-panel-title>
                  </mat-expansion-panel-header>
  
                  <ng-container #content9Content>
                      <ng-container #description_9>
                        <p>It is possible for a user to try to access a route that you have not defined. To account for this behavior, the best practice is to display a 404 page. In this section, you'll create a 404 page and update your route configuration to show that page for any unspecified routes.</p>
                        <ol>
                          <li>
                            <p>From the terminal, create a new component, PageNotFound.</p>
                            <code-example code="
                            ng generate component page-not-found
                            "></code-example>
                          </li>
                          <li>
                            <p>From your code editor, open the page-not-found.component.html file and replace its contents with the following HTML.</p>
                            <code-example code="
                            < h2>Page Not Found</h2>
                            < p>We couldn't find that page! Not even with x-ray vision.</p>
                            "></code-example>
                          </li>
                          <li>
                            <p>Open the app.module.ts file. In the imports array, update the RouterModule section as follows.</p>
                            <code-example code="
                            imports: [
                            BrowserModule,
                            RouterModule.forRoot([
                              {path: 'crisis-list', component: CrisisListComponent},
                              {path: 'heroes-list', component: HeroesListComponent},
                              {path: '', redirectTo: '/heroes-list', pathMatch: 'full'},
                              {path: '**', component: PageNotFoundComponent}
                            ]),
                          ],
                            "></code-example>
                            <p>The new route uses a path, **. This path is how Angular identifies a wildcard route. Any route that does not match an existing route in your configuration will use this route.</p>
                            <p class="note">
                              Notice that the wildcard route is placed at the end of the array. The order of your routes is important, as Angular applies routes in order and uses the first match it finds.
                            </p>
                          </li>
                        </ol>
                        <p>Try navigating to a non-existing route on your application, such as http://localhost:4200/powers. This route doesn't match anything defined in your app.module.ts file. However, because you defined a wildcard route, the application automatically displays your PageNotFound component.</p>
                      </ng-container>
                </ng-container>
              </mat-expansion-panel>
            </mat-accordion>
        </ng-container>
    </mat-expansion-panel>
</ng-template>

<ng-template #customRouteTemplate>
    <mat-expansion-panel>
        <mat-expansion-panel-header>
          <mat-panel-title>
            Creating custom route matches
          </mat-panel-title>
        </mat-expansion-panel-header>

        <ng-container #customRouteContent>
            <ng-container #description>
              <p>The Angular Router supports a powerful matching strategy that you can use to help users navigate your application. This matching strategy supports static routes, variable routes with parameters, wildcard routes, and so on. Also, build your own custom pattern matching for situations in which the URLs are more complicated.</p>
              <p>In this tutorial, you'll build a custom route matcher using Angular's UrlMatcher. This matcher looks for a Twitter handle in the URL.</p>
            </ng-container>
        </ng-container>

        <ng-container #content1>
            <mat-accordion>
              <mat-expansion-panel>
                  <mat-expansion-panel-header>
                      <mat-panel-title>
                        Objectives
                      </mat-panel-title>
                  </mat-expansion-panel-header>
  
                  <ng-container #content1Content>
                      <ng-container #description_1>
                        <p>Implement Angular's UrlMatcher to create a custom route matcher.</p>
                      </ng-container>
                </ng-container>
              </mat-expansion-panel>
            </mat-accordion>
        </ng-container>

        <ng-container #content2>
            <mat-accordion>
              <mat-expansion-panel>
                  <mat-expansion-panel-header>
                      <mat-panel-title>
                        Create a sample application
                      </mat-panel-title>
                  </mat-expansion-panel-header>
  
                  <ng-container #content2Content>
                      <ng-container #description_2>
                        <p>Using the Angular CLI, create a new application, angular-custom-route-match. In addition to the default Angular application framework, you will also create a profile component.</p>
                        <ol>
                          <li>
                            <p>Create a new Angular project, angular-custom-route-match.</p>
                            <code-example code="
                            ng new angular-custom-route-match
                            "></code-example>
                            <p>When prompted with Would you like to add Angular routing?, select Y.</p>
                            <p>When prompted with Which stylesheet format would you like to use?, select CSS.</p>
                            <p>After a few moments, a new project, angular-custom-route-match, is ready.</p>
                          </li>
                          <li>From your terminal, navigate to the angular-custom-route-match directory.</li>
                          <li>
                            <p>Create a component, profile.</p>
                            <code-example code="
                            ng generate component profile
                            "></code-example>
                          </li>
                          <li>
                            <p>In your code editor, locate the file, profile.component.html and replace the placeholder content with the following HTML.</p>
                            <code-example code="
                            < p>
                              Hello {{ '{{ username$ | async }} '}}!
                              </p>
                            "></code-example>
                          </li>
                          <li>
                            <p>In your code editor, locate the file, app.component.html and replace the placeholder content with the following HTML.</p>
                            <code-example code="
                            < h2>Routing with Custom Matching</h2>

                            Navigate to < a routerLink='/@Angular'>my profile</a>
                            
                            < router-outlet></router-outlet>
                            "></code-example>
                          </li>
                        </ol>
                      </ng-container>
                </ng-container>
              </mat-expansion-panel>
            </mat-accordion>
        </ng-container>

        <ng-container #content3>
            <mat-accordion>
              <mat-expansion-panel>
                  <mat-expansion-panel-header>
                      <mat-panel-title>
                        Configure your routes for your application
                      </mat-panel-title>
                  </mat-expansion-panel-header>
  
                  <ng-container #content3Content>
                      <ng-container #description_3>
                        <p>With your application framework in place, you next need to add routing capabilities to the app.module.ts file. As a part of this process, you will create a custom URL matcher that looks for a Twitter handle in the URL. This handle is identified by a preceding @ symbol.</p>
                        <ol>
                          <li>In your code editor, open your app.module.ts file.</li>
                          <li>
                            <p>Add an import statement for Angular's RouterModule and UrlMatcher.</p>
                            <code-example code="
                            import { RouterModule, UrlSegment } from '@angular/router';
                            "></code-example>
                          </li>
                          <li>
                            <p>In the imports array, add a RouterModule.forRoot([]) statement.</p>
                            <code-example code="
                            @NgModule({
                              imports:      [
                                BrowserModule,
                                FormsModule,
                                RouterModule.forRoot([
                                  {
                            /* . . . */
                                ])],
                              declarations: [ AppComponent, ProfileComponent ],
                              bootstrap:    [ AppComponent ]
                            })
                            "></code-example>
                          </li>
                          <li>
                            <p>Define the custom route matcher by adding the following code to the RouterModule.forRoot() statement.</p>
                            <code-example code="
                            matcher: (url) => {
                              if (url.length === 1 && url[0].path.match(/^@[\w]+$/gm)) {
                                return {
                                  consumed: url,
                                  posParams: {
                                    username: new UrlSegment(url[0].path.substr(1), {})
                                  }
                                };
                              }
                          
                              return null;
                            },
                            component: ProfileComponent
                          }
                            "></code-example>
                          </li>
                        </ol>
                        <p>This custom matcher is a function that performs the following tasks:</p>
                        <ul>
                          <li>The matcher verifies that the array contains only one segment.</li>
                          <li>The matcher employs a regular expression to ensure that the format of the username is a match.</li>
                          <li>If there is a match, the function returns the entire URL, defining a username route parameter as a substring of the path.</li>
                          <li>If there isn't a match, the function returns null and the router continues to look for other routes that match the URL.</li>
                        </ul>
                        <p>A custom URL matcher behaves like any other route definition. Define child routes or lazy loaded routes as you would with any other route.</p>
                      </ng-container>
                </ng-container>
              </mat-expansion-panel>
            </mat-accordion>
        </ng-container>

        <ng-container #content4>
            <mat-accordion>
              <mat-expansion-panel>
                  <mat-expansion-panel-header>
                      <mat-panel-title>
                        Subscribe to the route parameters
                      </mat-panel-title>
                  </mat-expansion-panel-header>
  
                  <ng-container #content4Content>
                      <ng-container #description_4>
                        <p>With the custom matcher in place, you now need to subscribe to the route parameters in the profile component.</p>
                        <ol>
                          <li>In your code editor, open your profile.component.ts file.</li>
                          <li>
                            <p>Add an import statement for Angular's ActivatedRoute and ParamMap.</p>
                            <code-example code="
                            import { ActivatedRoute, ParamMap } from '@angular/router';
                            "></code-example>
                          </li>
                          <li>
                            <p>Add an import statement for RxJS map.</p>
                            <code-example code="
                            import { map } from 'rxjs/operators';
                            "></code-example>
                          </li>
                          <li>
                            <p>Subscribe to the username route parameter.</p>
                            <code-example code="
                            username$ = this.route.paramMap
                            .pipe(
                              map((params: ParamMap) => params.get('username'))
                            );
                            "></code-example>
                          </li>
                          <li>
                            <p>Inject the ActivatedRoute into the component's constructor.</p>
                            <code-example code="
                            constructor(private route: ActivatedRoute) { }
                            "></code-example>
                          </li>
                        </ol>
                      </ng-container>
                </ng-container>
              </mat-expansion-panel>
            </mat-accordion>
        </ng-container>

        <ng-container #content5>
            <mat-accordion>
              <mat-expansion-panel>
                  <mat-expansion-panel-header>
                      <mat-panel-title>
                        Test your custom URL matcher
                      </mat-panel-title>
                  </mat-expansion-panel-header>
  
                  <ng-container #content5Content>
                      <ng-container #description_5>
                        <p>With your code in place, you can now test your custom URL matcher.</p>
                        <ol>
                          <li>
                            <p>From a terminal window, run the ng serve command.</p>
                            <code-example code="
                            ng serve
                            "></code-example>
                          </li>
                          <li>
                            <p>Open a browser to http://localhost:4200.</p>
                            <p>You should see a single web page, consisting of a sentence that reads Navigate to my profile.</p>
                          </li>
                          <li>
                            <p>Click the my profile hyperlink.</p>
                            <p>A new sentence, reading Hello, Angular! appears on the page.</p>
                          </li>
                        </ol>
                      </ng-container>
                </ng-container>
              </mat-expansion-panel>
            </mat-accordion>
        </ng-container>
    </mat-expansion-panel>
</ng-template>

<ng-template #routerReferenceTemplate>
    <mat-expansion-panel>
        <mat-expansion-panel-header>
          <mat-panel-title>
            Router Reference
          </mat-panel-title>
        </mat-expansion-panel-header>

        <ng-container #routerReferenceContent>
            <ng-container #description></ng-container>
        </ng-container>

        <ng-container #content1>
            <mat-accordion>
              <mat-expansion-panel>
                  <mat-expansion-panel-header>
                      <mat-panel-title>
                        Router imports
                      </mat-panel-title>
                  </mat-expansion-panel-header>
  
                  <ng-container #content1Content>
                      <ng-container #description_1>
                        <p>The Angular Router is an optional service that presents a particular component view for a given URL. It is not part of the Angular core and thus is in its own library package, @angular/router.</p>
                        <p>Import what you need from it as you would from any other Angular package.</p>
                        <code-example code="
                        import { RouterModule, Routes } from '@angular/router';
                        "></code-example>
                      </ng-container>
                </ng-container>
              </mat-expansion-panel>
            </mat-accordion>
        </ng-container>

        <ng-container #content2>
            <mat-accordion>
              <mat-expansion-panel>
                  <mat-expansion-panel-header>
                      <mat-panel-title>
                        Configuration
                      </mat-panel-title>
                  </mat-expansion-panel-header>
  
                  <ng-container #content2Content>
                      <ng-container #description_2>
                        <p>A routed Angular application has one singleton instance of the Router service. When the browser's URL changes, that router looks for a corresponding Route from which it can determine the component to display.</p>
                        <p>A router has no routes until you configure it. The following example creates five route definitions, configures the router via the RouterModule.forRoot() method, and adds the result to the AppModule's imports array.</p>
                        <code-example code="
                        const appRoutes: Routes = [
                        { path: 'crisis-center', component: CrisisListComponent },
                        { path: 'hero/:id',      component: HeroDetailComponent },
                        {
                          path: 'heroes',
                          component: HeroListComponent,
                          data: { title: 'Heroes List' }
                        },
                        { path: '',
                          redirectTo: '/heroes',
                          pathMatch: 'full'
                        },
                        { path: '**', component: PageNotFoundComponent }
                      ];
                      
                      @NgModule({
                        imports: [
                          RouterModule.forRoot(
                            appRoutes,
                            { enableTracing: true } // < -- debugging purposes only
                          )
                          // other imports here
                        ],
                        ...
                      })
                      export class AppModule { }
                        "></code-example>

                        <p>The appRoutes array of routes describes how to navigate. Pass it to the RouterModule.forRoot() method in the module imports to configure the router.</p>
                        <p>Each Route maps a URL path to a component. There are no leading slashes in the path. The router parses and builds the final URL for you, which lets you use both relative and absolute paths when navigating between application views.</p>
                        <p>The :id in the second route is a token for a route parameter. In a URL such as /hero/42, "42" is the value of the id parameter. The corresponding HeroDetailComponent uses that value to find and present the hero whose id is 42.</p>
                        <p>The data property in the third route is a place to store arbitrary data associated with this specific route. The data property is accessible within each activated route. Use it to store items such as page titles, breadcrumb text, and other read-only, static data. Use the resolve guard to retrieve dynamic data.</p>
                        <p>The empty path in the fourth route represents the default path for the application—the place to go when the path in the URL is empty, as it typically is at the start. This default route redirects to the route for the /heroes URL and, therefore, displays the HeroesListComponent.</p>
                        <p>If you need to see what events are happening during the navigation lifecycle, there is the enableTracing option as part of the router's default configuration. This outputs each router event that took place during each navigation lifecycle to the browser console. Use enableTracing only for debugging purposes. You set the enableTracing: true option in the object passed as the second argument to the RouterModule.forRoot() method.</p>
                      </ng-container>
                </ng-container>
              </mat-expansion-panel>
            </mat-accordion>
        </ng-container>

        <ng-container #content3>
            <mat-accordion>
              <mat-expansion-panel>
                  <mat-expansion-panel-header>
                      <mat-panel-title>
                        Router outlet
                      </mat-panel-title>
                  </mat-expansion-panel-header>
  
                  <ng-container #content3Content>
                      <ng-container #description_3>
                        <p>The RouterOutlet is a directive from the router library that is used like a component. It acts as a placeholder that marks the spot in the template where the router should display the components for that outlet.</p>
                        <code-example code="
                        < router-outlet></router-outlet>
                        < !-- Routed components go here -->
                        "></code-example>

                        <p>Given the preceding configuration, when the browser URL for this application becomes /heroes, the router matches that URL to the route path /heroes and displays the HeroListComponent as a sibling element to the RouterOutlet that you've placed in the host component's template.</p>
                      </ng-container>
                </ng-container>
              </mat-expansion-panel>
            </mat-accordion>
        </ng-container>

        <ng-container #content4>
            <mat-accordion>
              <mat-expansion-panel>
                  <mat-expansion-panel-header>
                      <mat-panel-title>
                        Router links
                      </mat-panel-title>
                  </mat-expansion-panel-header>
  
                  <ng-container #content4Content>
                      <ng-container #description_4>
                          <p>To navigate as a result of some user action such as the click of an anchor tag, use RouterLink.</p>
                          <p>Consider the following template:</p>
                          <code-example code="
                          < h1>Angular Router</h1>
                          < nav>
                            < a routerLink='/crisis-center' routerLinkActive='active'>Crisis Center</a>
                            < a routerLink='/heroes' routerLinkActive='active'>Heroes</a>
                          </nav>
                          < router-outlet></router-outlet>
                          "></code-example>
                          <p>The RouterLink directives on the anchor tags give the router control over those elements. The navigation paths are fixed, so you can assign a string to the routerLink (a "one-time" binding).</p>
                          <p>Had the navigation path been more dynamic, you could have bound to a template expression that returned an array of route link parameters; that is, the link parameters array. The router resolves that array into a complete URL.</p>
                      </ng-container>
                </ng-container>
              </mat-expansion-panel>
            </mat-accordion>
        </ng-container>

        <ng-container #content5>
            <mat-accordion>
              <mat-expansion-panel>
                  <mat-expansion-panel-header>
                      <mat-panel-title>
                        Active router links
                      </mat-panel-title>
                  </mat-expansion-panel-header>
  
                  <ng-container #content5Content>
                      <ng-container #description_5>
                        <p>The RouterLinkActive directive toggles CSS classes for active RouterLink bindings based on the current RouterState.</p>
                        <p>On each anchor tag, you see a property binding to the RouterLinkActive directive that looks like routerLinkActive="...".</p>
                        <p>The template expression to the right of the equal sign, =, contains a space-delimited string of CSS classes that the Router adds when this link is active (and removes when the link is inactive). You set the RouterLinkActive directive to a string of classes such as routerLinkActive="active fluffy" or bind it to a component property that returns such a string (for example, [routerLinkActive]="someStringProperty").</p>
                        <p>Active route links cascade down through each level of the route tree, so parent and child router links can be active at the same time. To override this behavior, bind to the [routerLinkActiveOptions] input binding with the {{ '{ exact: true }' }} expression. By using {{ '{ exact: true }' }}, a given RouterLink is only active if its URL is an exact match to the current URL.</p>
                      </ng-container>
                </ng-container>
              </mat-expansion-panel>
            </mat-accordion>
        </ng-container>

        <ng-container #content6>
            <mat-accordion>
              <mat-expansion-panel>
                  <mat-expansion-panel-header>
                      <mat-panel-title>
                        Router state
                      </mat-panel-title>
                  </mat-expansion-panel-header>
  
                  <ng-container #content6Content>
                      <ng-container #description_6>
                        <p>After the end of each successful navigation lifecycle, the router builds a tree of ActivatedRoute objects that make up the current state of the router. You can access the current RouterState from anywhere in the application using the Router service and the routerState property.</p>
                        <p>Each ActivatedRoute in the RouterState provides methods to traverse up and down the route tree to get information from parent, child, and sibling routes.</p>
                      </ng-container>
                </ng-container>
              </mat-expansion-panel>
            </mat-accordion>
        </ng-container>

        <ng-container #content7>
            <mat-accordion>
              <mat-expansion-panel>
                  <mat-expansion-panel-header>
                      <mat-panel-title>
                        Activated route
                      </mat-panel-title>
                  </mat-expansion-panel-header>
  
                  <ng-container #content7Content>
                      <ng-container #description_7>
                        <p>The route path and parameters are available through an injected router service called the ActivatedRoute. It has a great deal of useful information including:</p>
                        <table>
                          <thead>
                            <td>Property</td>
                            <td>Description</td>
                          </thead>
                          <tbody>
                            <tr>
                              <td>url</td>
                              <td>An Observable of the route path(s), represented as an array of strings for each part of the route path.</td>
                            </tr>
                            <tr>
                              <td>data</td>
                              <td>An Observable that contains the data object provided for the route. Also contains any resolved values from the resolve guard.</td>
                            </tr>
                            <tr>
                              <td>paramMap</td>
                              <td>An Observable that contains a map of the required and optional parameters specific to the route. The map supports retrieving single and multiple values from the same parameter.</td>
                            </tr>
                            <tr>
                              <td>queryParamMap</td>
                              <td>An Observable that contains a map of the query parameters available to all routes. The map supports retrieving single and multiple values from the query parameter.</td>
                            </tr>
                            <tr>
                              <td>fragment</td>
                              <td>An Observable of the URL fragment available to all routes.</td>
                            </tr>
                            <tr>
                              <td>outlet</td>
                              <td>The name of the RouterOutlet used to render the route. For an unnamed outlet, the outlet name is primary.</td>
                            </tr>
                            <tr>
                              <td>routeConfig</td>
                              <td>The route configuration used for the route that contains the origin path.</td>
                            </tr>
                            <tr>
                              <td>parent</td>
                              <td>The route's parent ActivatedRoute when this route is a child route.</td>
                            </tr>
                            <tr>
                              <td>firstChild</td>
                              <td>Contains the first ActivatedRoute in the list of this route's child routes.</td>
                            </tr>
                            <tr>
                              <td>children</td>
                              <td>Contains all the child routes activated under the current route.</td>
                            </tr>
                          </tbody>
                        </table>

                        <span code="note">
                          <p>Two older properties are still available; however, their replacements are preferable as they might be deprecated in a future Angular version.</p>
                          <ul>
                            <li>params: An Observable that contains the required and optional parameters specific to the route. Use paramMap instead.</li>
                            <li>queryParams: An Observable that contains the query parameters available to all routes. Use queryParamMap instead.</li>
                          </ul>
                        </span>
                      </ng-container>
                </ng-container>
              </mat-expansion-panel>
            </mat-accordion>
        </ng-container>

        <ng-container #content8>
            <mat-accordion>
              <mat-expansion-panel>
                  <mat-expansion-panel-header>
                      <mat-panel-title>
                        Router events
                      </mat-panel-title>
                  </mat-expansion-panel-header>
  
                  <ng-container #content8Content>
                      <ng-container #description_8>
                        <p>During each navigation, the Router emits navigation events through the Router.events property. These events range from when the navigation starts and ends to many points in between. The full list of navigation events is displayed in the following table.</p>
                        <table>
                          <thead>
                            <td>Router Event</td>
                            <td>Description</td>
                          </thead>
                          <tbody>
                            <tr>
                              <td>NavigationStart</td>
                              <td>An event triggered when navigation starts.</td>
                            </tr>
                            <tr>
                              <td>RouteConfigLoadStart</td>
                              <td>An event triggered before the Router lazy loads a route configuration.</td>
                            </tr>
                            <tr>
                              <td>RouteConfigLoadEnd</td>
                              <td>An event triggered after a route has been lazy loaded.</td>
                            </tr>
                            <tr>
                              <td>RoutesRecognized</td>
                              <td>An event triggered when the Router parses the URL and the routes are recognized.</td>
                            </tr>
                            <tr>
                              <td>GuardsCheckStart</td>
                              <td>An event triggered when the Router begins the Guards phase of routing.</td>
                            </tr>
                            <tr>
                              <td>ChildActivationStart</td>
                              <td>An event triggered when the Router begins activating a route's children.</td>
                            </tr>
                            <tr>
                              <td>ActivationStart</td>
                              <td>An event triggered when the Router begins activating a route.</td>
                            </tr>
                            <tr>
                              <td>GuardsCheckEnd</td>
                              <td>An event triggered when the Router finishes the Guards phase of routing successfully.</td>
                            </tr>
                            <tr>
                              <td>ResolveStart</td>
                              <td>An event triggered when the Router begins the Resolve phase of routing.</td>
                            </tr>
                            <tr>
                              <td>ResolveEnd</td>
                              <td>An event triggered when the Router finishes the Resolve phase of routing successfuly.</td>
                            </tr>
                            <tr>
                              <td>ChildActivationEnd</td>
                              <td>An event triggered when the Router finishes activating a route's children.</td>
                            </tr>
                            <tr>
                              <td>ActivationEnd</td>
                              <td>An event triggered when the Router finishes activating a route.</td>
                            </tr>
                            <tr>
                              <td>NavigationEnd</td>
                              <td>An event triggered when navigation ends successfully.</td>
                            </tr>
                            <tr>
                              <td>NavigationCancel</td>
                              <td>An event triggered when navigation is canceled. This can happen when a Route Guard returns false during navigation, or redirects by returning a UrlTree.</td>
                            </tr>
                            <tr>
                              <td>NavigationError</td>
                              <td>An event triggered when navigation fails due to an unexpected error.</td>
                            </tr>
                            <tr>
                              <td>Scroll</td>
                              <td>An event that represents a scrolling event.</td>
                            </tr>
                          </tbody>
                        </table>
                        <p>When you enable the enableTracing option, Angular logs these events to the console. For an example of filtering router navigation events, see the router section of the Observables in Angular guide.</p>
                      </ng-container>
                </ng-container>
              </mat-expansion-panel>
            </mat-accordion>
        </ng-container>

        <ng-container #content9>
            <mat-accordion>
              <mat-expansion-panel>
                  <mat-expansion-panel-header>
                      <mat-panel-title>
                        Router terminology
                      </mat-panel-title>
                  </mat-expansion-panel-header>
  
                  <ng-container #content9Content>
                      <ng-container #description_9>
                        <p>Here are the key Router terms and their meanings:</p>
                        <table>
                          <thead>
                            <td>Router Part</td>
                            <td>Meaning</td>
                          </thead>
                          <tbody>
                            <tr>
                              <td>Router</td>
                              <td>Displays the application component for the active URL. Manages navigation from one component to the next.</td>
                            </tr>
                            <tr>
                              <td>RouterModule</td>
                              <td>A separate NgModule that provides the necessary service providers and directives for navigating through application views.</td>
                            </tr>
                            <tr>
                              <td>Routes</td>
                              <td>Defines an array of Routes, each mapping a URL path to a component.</td>
                            </tr>
                            <tr>
                              <td>Route</td>
                              <td>Defines how the router should navigate to a component based on a URL pattern. Most routes consist of a path and a component type.</td>
                            </tr>
                            <tr>
                              <td>RouterOutlet</td>
                              <td>The directive (< router-outlet>) that marks where the router displays a view.</td>
                            </tr>
                            <tr>
                              <td>RouterLink</td>
                              <td>The directive for binding a clickable HTML element to a route. Clicking an element with a routerLink directive that is bound to a string or a link parameters array triggers a navigation.</td>
                            </tr>
                            <tr>
                              <td>RouterLinkActive</td>
                              <td>The directive for adding/removing classes from an HTML element when an associated routerLink contained on or inside the element becomes active/inactive.</td>
                            </tr>
                            <tr>
                              <td>ActivatedRoute</td>
                              <td>A service that is provided to each route component that contains route specific information such as route parameters, static data, resolve data, global query params, and the global fragment.</td>
                            </tr>
                            <tr>
                              <td>RouterState</td>
                              <td>The current state of the router including a tree of the currently activated routes together with convenience methods for traversing the route tree.</td>
                            </tr>
                            <tr>
                              <td>Link parameters array</td>
                              <td>An array that the router interprets as a routing instruction. You can bind that array to a RouterLink or pass the array as an argument to the Router.navigate method.</td>
                            </tr>
                            <tr>
                              <td>Routing component</td>
                              <td>An Angular component with a RouterOutlet that displays views based on router navigations.</td>
                            </tr>
                          </tbody>
                        </table>
                      </ng-container>
                </ng-container>
              </mat-expansion-panel>
            </mat-accordion>
        </ng-container>
    </mat-expansion-panel>
</ng-template>